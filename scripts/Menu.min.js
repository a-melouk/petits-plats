import{removeChosenTagFromSelected as e,updatePage as t}from"./Utils.min.js";import{searchRecipesByTags as r}from"./Search/Tags.min.js";export function menuShowHide(e){let t=document.querySelector(`.menu.${e}`),r=document.querySelectorAll(`.menu:not(.${e})`),s=t.querySelector(".menu__arrow"),a=t.querySelector(".menu__title");a.addEventListener("click",()=>{let e=t.querySelector(".menu__items"),a=t.querySelector(".filter.search-bar"),o=t.querySelector(".menu__content");t.classList.contains("closed")?(s.classList.add("fa-rotate-180"),changeClosedToOpened([t,e,a,o]),r.forEach(e=>{let t=e.querySelector(".menu__arrow"),r=e.querySelector(".menu__items"),s=e.querySelector(".filter.search-bar"),a=e.querySelector(".menu__content");changeOpenedToClosed([e,r,s,a]),t.classList.remove("fa-rotate-180")})):(s.classList.remove("fa-rotate-180"),changeOpenedToClosed([t,e,a,o]))})}function changeClosedToOpened(e){e.forEach(e=>{e.classList.replace("closed","opened")})}function changeOpenedToClosed(e){e.forEach(e=>{e.classList.replace("opened","closed")})}export function displayChosenTags(s,a){let o=document.querySelector(".chosen-tags");o.classList.replace("closed","opened");let n=document.createElement("div");n.classList.add("chosen-tag"),n.innerHTML=`
    <span class='tag-text'>${s}</span>
    <button>
      <span class="fa-solid fa-xmark remove-tag"></span>
    </button>
    <span class="hidden">${a}</span>
  `;let l=n.querySelector("button");l.addEventListener("click",()=>{let a,o=document.getElementById("search-value");a=o.value.length>=3?JSON.parse(sessionStorage.getItem("searchBar"))[0]:JSON.parse(sessionStorage.getItem("recipes"))[0];let l=n.querySelector(".hidden").textContent;e(l,s);let c=JSON.parse(sessionStorage.getItem("tags")),d=r(a,c);t(d,"history"),n.remove()}),o.appendChild(n)}